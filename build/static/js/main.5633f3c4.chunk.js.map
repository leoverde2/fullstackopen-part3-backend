{"version":3,"sources":["components/Persons.js","components/Form.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","Persons","personToShow","map","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","newFilter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","className","content","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","setState","stateFunction","event","target","preventDefault","repeated","filter","currentPerson","length","window","confirm","changedNumber","returnedPerson","setTimeout","catch","error","concat","filterLowercased","toLowerCase","includes","object","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5633f3c4.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Persons = ({ personToShow, deletePerson }) => {\r\n  return (\r\n    personToShow().map(person =>\r\n      <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n    )\r\n  )\r\n}\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div key={person.name}>\r\n      {person.name} {person.number}\r\n      <button onClick={() => deletePerson(person)}>\r\n        Delete\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\n\nconst Form = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        <div>\n          name: <input\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input\r\n        value={newFilter}\r\n        onChange={handleFilterChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from \"axios\"\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst replace = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deleteObject, replace }","import React from 'react'\r\nimport '../index.css'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  else if (message.type === \"success\"){\r\n    return (\r\n      <div className=\"success\">\r\n        {message.content}\r\n      </div>\r\n    )\r\n  }\r\n  else if (message.type === \"error\"){\r\n    return (\r\n      <div className=\"error\">\r\n        {message.content}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Persons from './components/Persons'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const  [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const repeated = persons.filter(currentPerson => currentPerson.name === newName)\n    if (repeated.length === 1) {\n      if (window.confirm(`${repeated[0].name} is already added to phonebook, replace the old number with a new one?`)) {\n        const changedNumber = { ...repeated[0], number: newNumber }\n        personService\n          .replace(repeated[0].id, changedNumber)\n          .then(returnedPerson => {\n            setNotificationMessage({content: `Changed ${returnedPerson.name} number`, type:\"success\"})\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n            setNewName(\"\")\n            setNewNumber(\"\")\n          })\n          .catch(error => {\n            setNotificationMessage({content: `Information of ${newName} has already been deleted from the server `, type: \"error\"})\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.name !== newName))\n            setNewName(\"\")\n            setNewNumber(\"\")\n          })\n      }\n    }\n    else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setNotificationMessage({content: `Added ${returnedPerson.name}`, type: \"success\"})\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n        .catch(error => {\n          setNotificationMessage({content: `Information of ${newName} has already been deleted from the server `, type: \"error\"})\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.name !== newName))\n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n    }\n  }\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService\n        .deleteObject(person.id)\n        .then(() => {\n          setPersons(persons.filter(object => object.id !== person.id))\n        })\n    }\n  }\n\n  const personToShow = () => {\n    const filterLowercased = newFilter.toLowerCase()\n    const filtered = persons.filter(person => {\n      const personLowercased = person.name.toLowerCase()\n      return (\n        personLowercased.includes(filterLowercased)\n      )\n    })\n    return filtered\n  }\n\n  const setState = (stateFunction) => (event => stateFunction(event.target.value))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Filter\n        newFilter={newFilter}\n        handleFilterChange={setState(setNewFilter)}\n      />\n      <h2>Add a new</h2>\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={setState(setNewName)}\n        newNumber={newNumber}\n        handleNumberChange={setState(setNewNumber)}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        personToShow={personToShow}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}